<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Postback</title>
  <style>
    body { font-family: sans-serif; text-align: center; padding: 50px; }
  </style>
</head>
<body>
  <h2>⏳ Sending Postback...</h2>
  <p>Please wait...</p>

  <script>
    window.onload = () => {
      const botToken = "7995895991:AAGsJGLWhg6b7wNVYVcw-CZafYUYYfgU5fw";
      const chatId = "@quickcashalert";

      // Get URL parameters
      const urlParams = new URLSearchParams(window.location.search);
      const p1 = urlParams.get("p1") || "N/A";
      const p2 = urlParams.get("p2") || "N/A";
      const p3 = urlParams.get("p3") || "N/A";
      const p4 = urlParams.get("p4") || "N/A";
      const p5 = urlParams.get("p5") || "N/A";

      // Format Telegram message
      const message = `
✅ <b>New Postback</b>

🧾 <b>Offer:</b> ${p5}

👤 <b>User UPI:</b> <code>${p1}</code>
💰 <b>User Payout:</b> ₹${p3}

👥 <b>Refer UPI:</b> <code>${p2}</code>
🎁 <b>Refer Payout:</b> ₹${p4}
      `.trim();

      // Create an invisible image to trigger Telegram API request (CORS-safe)
      const img = new Image();
      img.src = https://api.telegram.org/bot${botToken}/sendMessage?chat_id=${encodeURIComponent(chatId)}&text=${encodeURIComponent(message)}&parse_mode=HTML;
      img.style.display = "none";
      document.body.appendChild(img);

      // Optional: Redirect or update message after few seconds
      setTimeout(() => {
        document.body.innerHTML = "<h2>✅ Postback sent successfully!</h2>";
      }, 2000);
    };
  </script>
</body>
</html>
