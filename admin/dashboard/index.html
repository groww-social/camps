<!DOCTYPE html><html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Dashboard</title>
  <link rel="stylesheet" href="https://groww-social.github.io/camps/admin/dashboard/style.css">
  <style>
    table { width: 100%; border-collapse: collapse; margin-top: 20px; }
    th, td { padding: 10px; border: 1px solid #ccc; text-align: left; color: #fff; }
    th { background-color: #222; }
    button { padding: 5px 10px; background: #00cec9; border: none; border-radius: 4px; color: #000; cursor: pointer; }
    h1 { color: #0f0; }
  </style>
</head>
<body><!-- ‚úÖ Admin Token Check --><script>
  const adminToken = localStorage.getItem("admin_token");
  if (!adminToken) {
    document.body.innerHTML = `
      <div style="text-align: center; padding-top: 80px;">
        <h1 style="font-size: 4em; color: #fff;">404</h1>
        <p style="font-size: 1.5em; color: #ccc;">Page Not Found</p>
        <p style="margin-top: 20px;">
          <a href="/" style="color: #00cec9; text-decoration: underline;">Go to Home</a>
        </p>
      </div>
    `;
    setTimeout(() => window.location.href = "https://groww-social.github.io/camps", 3000);
  }
</script><!-- üîµ Background Circles --><div class="circle circle-1"></div>
<div class="circle circle-2"></div>
<div class="circle circle-3"></div>
<div class="circle circle-4"></div>
<div class="circle circle-5"></div>
<div class="circle circle-6"></div>
<div class="circle circle-7"></div>
<div class="circle circle-8"></div>
<div class="circle circle-9"></div>
<div class="circle circle-10"></div>
<div class="circle circle-11"></div>
<div class="circle circle-12"></div>
<div class="circle circle-13"></div>
<div class="circle circle-14"></div>
<div class="circle circle-15"></div><!-- üîò Navbar --><nav class="navbar">
  <button class="menu-toggle" id="menuToggleBtn" onclick="toggleMenu()">‚ò∞</button>
  <div class="button-container" id="navButtons" style="display: none;">
    <button>Add Campaign</button>
    <button>Edit Campaign</button>
    <button>Refer IDs</button>
    <button>View Campaign</button>
    <button>Check Tracking</button>
    <button>Edit Themes</button>
    <button>Account</button>
  </div>
</nav><h1>Dashboard</h1>
<div id="campaigns">Loading...</div><script>
  document.addEventListener("DOMContentLoaded", async () => {
    console.log("DOM ready");
    const rawUrl = 'https://groww-social.github.io/camps/offers.json?cache=' + Date.now();

    try {
      const res = await fetch(rawUrl);
      const data = await res.json();
      console.log("‚úÖ Loaded:", data);
      renderTable(data);
    } catch (e) {
      console.error("‚ùå Fetch error:", e);
      document.getElementById("campaigns").innerHTML = <p style='color:red;'>Failed to load campaigns.</p>;
    }
  });

  function renderTable(campaigns) {
    let html = `
      <table>
        <thead>
          <tr>
            <th>ID</th>
            <th>Offer</th>
            <th>User</th>
            <th>Refer</th>
            <th>Status</th>
            <th>Actions</th>
          </tr>
        </thead>
        <tbody>
    `;

    campaigns.forEach(c => {
      html += `
        <tr>
          <td>${c.id}</td>
          <td>${c.offer}</td>
          <td>‚Çπ${c.User}</td>
          <td>‚Çπ${c.refer}</td>
          <td>${c.status}</td>
          <td>
            <button onclick="alert('View: ${c.id}')">View</button>
            <button onclick="alert('Delete: ${c.id}')">Delete</button>
          </td>
        </tr>
      `;
    });

    html += </tbody></table>;
    document.getElementById("campaigns").innerHTML = html;
  }

  function toggleMenu() {
    const btns = document.getElementById('navButtons');
    const toggleBtn = document.getElementById('menuToggleBtn');
    if (btns.style.display === 'none' || btns.style.display === '') {
      btns.style.display = 'flex';
      toggleBtn.innerHTML = '‚úñ';
    } else {
      btns.style.display = 'none';
      toggleBtn.innerHTML = '‚ò∞';
    }
  }
</script></body>
</html>
